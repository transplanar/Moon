<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class="no-js">
<!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <title>Bloc Jams – Glen Cooney</title> <meta name="description" content="Welcome to my official portfolio site"> <meta name="keywords" content="Bloc, Frontend, Angular, Foundation"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://127.0.0.1:4000//assets/img/meface_no-border.png"> <meta name="twitter:title" content="Bloc Jams"> <meta name="twitter:description" content="Music player app built in Angular."> <meta name="twitter:site" content="@transplanar"> <meta name="twitter:creator" content="@transplanar"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="Bloc Jams"> <meta property="og:description" content="Music player app built in Angular."> <meta property="og:url" content="http://127.0.0.1:4000//BlocJams/"> <meta property="og:site_name" content="Glen Cooney"> <meta property="og:image" content="http://127.0.0.1:4000//assets/img/meface_no-border.png"> <link rel="canonical" href="http://127.0.0.1:4000//BlocJams/"> <link href="http://127.0.0.1:4000//feed.xml" type="application/atom+xml" rel="alternate" title="Glen Cooney Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://127.0.0.1:4000//assets/css/main.css"> <!-- JS --> <script src="http://127.0.0.1:4000//assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://127.0.0.1:4000//favicon.png"> <link rel="shortcut icon" href="http://127.0.0.1:4000//favicon.ico"> <!-- Background Image --> <style type="text/css">body {background-image:url(http://127.0.0.1:4000//assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://127.0.0.1:4000//">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://127.0.0.1:4000//assets/img/meface_no-border.png" alt="Glen Cooney photo" class="author-photo"> <h4>Glen Cooney</h4> <p>Welcome to my official portfolio site</p> </li> <li><a href="http://127.0.0.1:4000//about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:glen@glencooney.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://twitter.com/transplanar" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a> </li> <li> <a href="http://linkedin.com/in/glencooney" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a> </li> <li> <a href="http://github.com/transplanar" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> <li> <a href="http://stackoverflow.com/users/5031910/glen-cooney" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-stack-overflow"></i> StackOverflow</a> </li> </ul>
<!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://127.0.0.1:4000//posts/">All Posts</a></li> <li><a href="http://127.0.0.1:4000//tags/">All Tags</a></li> </ul> </li> <li><a href="http://127.0.0.1:4000//projects/">Projects</a></li> <li><a href="http://127.0.0.1:4000//contact/">Contact</a></li> </ul>
<!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>Bloc Jams</h1> <h4>24 Jul 2016</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~4 minutes </p>
<!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://127.0.0.1:4000//projects/"> <i class="fa fa-chevron-left" style="font-size: 1.5rem"></i> </a> <!-- REVIEW FIXME messed up display of heroku icon --> <span> <div class="social-btn"> <a class="fa fa-fw fa-globe" style="font-size: 1.5rem" href="https://bloc-jams-foundation-app.herokuapp.com/" title="View on Heroku"></a> </div>
<div class="social-btn"> <a style="font-size: 1.5rem" class="fa fa-fw fa-github" href="https://github.com/transplanar/bloc-jams-angular" title="View on Github"></a> </div> </span> </div> <h1 id="jamming-out">Jamming Out</h1> <p><em>Bloc Jams is a music player app utilizing templates, responsive styling, and jQuery DOM manipulation. It was designed by Bloc as an in-depth tutorial to Frontend Web Development. It was designed in two parts - one focusing on Javascript and jQuery, and the other on Angular.</em></p> <h3 id="tools">Tools</h3> <p><a href="https://www.javascript.com/">Javascript</a>, <a href="https://angularjs.org/">Angular</a>, <a href="https://github.com/angular-ui/ui-router">UI-Router</a>, <a href="https://jquery.com/">jQuery</a>, <a href="http://gruntjs.com/">Grunt</a>, <a href="http://buzz.jaysalvat.com/">Buzz</a>, <a href="http://getbootstrap.com/">Bootstrap</a>, <a href="http://brackets.io/">Brackets</a>, <a href="http://www.ubuntu.com/">Ubuntu</a></p> <h1 id="starting-out">Starting Out</h1> <p><em>Having just completed my Backend track for Bloc, I came into the Frontend side with a better understanding of web web development paradigms. Compared to Ruby, Javascript was much closer to languages I had worked with in the past, namely Actionscript 3.0.</em></p> <p><em>While I had dabbled in some styling and JS scripting in Backend, it was with this project that I really got my feet wet with it.</em></p> <h1 id="overview">Overview</h1> <p><em>In Bloc Jams, users may view an index of albums, view the songs on that item, and then play any of the songs within the album. It features additional flourishes like icon fade-in when the user scrolls down the landing page and a music player bar docked at the bottom of the album view.</em></p> <h1 id="the-process">The Process</h1> <p><em>As a Frontend project, work began first on creating a basic view. Outside of the familiar html formatting assisted by Bootstrap, I was introduced to responsive styling to allow my page to dynamically adjust based on the size of the viewing device. This was accomplished through media queries applied to my CSS classes.</em></p> <p>[CSS example]</p> <p><em>With a basic landing page set up, I moved on to the Collection view, which contained a grid of albums users can select from. To properly arrange the albums, I made use of Bootstrap’s grid system to align the dynamically generated list of albums.</em></p> <p><em>With that done, I moved on to the Album view, where the bulk of visual effects were implemented. The first effect was to have a play button replace the track number when a user hovers over the appropriate row. This was accomplished using psuedoclass selectors in CSS.</em></p> <p>[CSS hover]</p> <p><em>For the play button, the desired behavior was to have it remain in its “pause” state while a user hovers over other song rows, and upon clicking a new one, it should dismiss the previous play/pause button. To accomplish this, some Javascript logic was required.</em></p> <p>[JS for hover/click]</p> <p><em>The next step involved a refactor of my event listeners from straight Javascript to jQuery. This streamlined a lot of the code and allowed event listeners to be moved to the song row objects themselves, rather than in a generic <code class="highlighter-rouge">document.ready</code> function.</em></p> <p><em>Finally, the Buzz library was implemented to allow for audio playback upon selecting a song. Play and pause functionality were integrated in with the existing button behaviors, and observer functions were used to sync volume and current song time with their appropriate seek bars.</em></p> <h1 id="round-2">Round 2</h1> <p><em>Next came a bigger refactor - migrating my code to use Angular. I converted my pages into templates, and set up UI-Router to turn them into states. This allowed my app to become a Single Page Application, and thus much faster and responsive.</em></p> <p><em>jQuery DOM manipulation and listeners were replaced with their equivalent Angular directives. Angular controllers took over for my JS scripts to more formally serve and render data onto my views. Album data was moved to a <code class="highlighter-rouge">Fixtures</code> service for my <code class="highlighter-rouge">AlbumController</code> to pull from.</em></p> <p><em>Actions related to song playback were moved into a <code class="highlighter-rouge">SongPlayer</code> service, which interacted with both the Album and Player Bar controllers.</em></p> <p><em>When it came to the Next and Previous buttons, I wanted to ensure that the list looped continuously as the user moved up or down the list, so I created my own utility function for looping array incrementation.</em></p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="kd">function</span> <span class="nx">Utilities</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">Utilities</span> <span class="o">=</span> <span class="p">{};</span>

    <span class="nx">Utilities</span><span class="p">.</span><span class="nx">loopIndex</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">collection</span><span class="p">,</span> <span class="nx">forward</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">increment</span> <span class="o">=</span> <span class="nx">forward</span> <span class="p">?</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">newIndex</span><span class="p">;</span>

      <span class="k">if</span><span class="p">(</span> <span class="nx">index</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="nx">collection</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">forward</span> <span class="p">){</span>
        <span class="nx">newIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="p">}</span><span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">forward</span><span class="p">){</span>
        <span class="nx">newIndex</span> <span class="o">=</span> <span class="nx">collection</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span><span class="k">else</span> <span class="p">{</span>
        <span class="nx">newIndex</span> <span class="o">=</span> <span class="nx">index</span> <span class="o">+</span> <span class="nx">increment</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="k">return</span> <span class="nx">newIndex</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="p">...</span>

    <span class="k">return</span> <span class="nx">Utilities</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="nx">angular</span>
    <span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'blocJams'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="s1">'Utilities'</span><span class="p">,</span> <span class="nx">Utilities</span><span class="p">);</span>
<span class="p">})();</span></code></pre></figure> <p><em>Refactoring the Seek Bar involved creating a custom directive to update the name and track times when a new song starts playing. To sync up the appearance of the playback seek bar with the audio, I used the seekbar directive’s <code class="highlighter-rouge">link</code> attribute to produce functions for updating its bar and thumb. To ensure this was updated in realtime, an <code class="highlighter-rouge">$observe</code> function is used to continuously call those functions as music is played.</em></p> <p><em>Finally, a custom Angular filter is used to format the time display for playback.</em></p> <h1 id="takeaways">Takeaways</h1> <p><em>While there was an initial learning curve, I took to Angular much quicker than I did to Rails. Much of its functionality was familiar to me from my days messing with Flash and AS3, so it was not too difficult to get it working. I found the manner in which Angular organizes code through directives and declarative DOM manipulation intuitive and easy to see how every piece fits together.</em></p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://127.0.0.1:4000//tags/#Bloc" title="Pages tagged Bloc" class="tag"><span class="term">Bloc</span></a><a href="http://127.0.0.1:4000//tags/#Frontend" title="Pages tagged Frontend" class="tag"><span class="term">Frontend</span></a><a href="http://127.0.0.1:4000//tags/#Angular" title="Pages tagged Angular" class="tag"><span class="term">Angular</span></a><a href="http://127.0.0.1:4000//tags/#Foundation" title="Pages tagged Foundation" class="tag"><span class="term">Foundation</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1:4000//BlocJams/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Like</span> </a> <a href="https://twitter.com/intent/tweet?text=http://127.0.0.1:4000//BlocJams/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://127.0.0.1:4000//BlocJams/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> </header> <!-- JS --> <script src="http://127.0.0.1:4000//assets/js/jquery-1.12.0.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.dlmenu.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.goup.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.magnific-popup.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.fitvid.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/scripts.js"></script> <!-- Asynchronous Google Analytics snippet --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-81619796-1', 'auto'); ga('require', 'linkid', 'linkid.js'); ga('send', 'pageview'); </script> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
