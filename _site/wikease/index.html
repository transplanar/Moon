<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class="no-js">
<!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <title>Wikease – Glen Cooney</title> <meta name="description" content="Welcome to my official portfolio site"> <meta name="keywords" content="Bloc, Rails, Backend"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://127.0.0.1:4000//assets/img/meface_no-border.png"> <meta name="twitter:title" content="Wikease"> <meta name="twitter:description" content="A wiki site that allows users to author private and public wikis, as well as assign collaborators onto wikis they own."> <meta name="twitter:site" content="@transplanar"> <meta name="twitter:creator" content="@transplanar"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="Wikease"> <meta property="og:description" content="A wiki site that allows users to author private and public wikis, as well as assign collaborators onto wikis they own."> <meta property="og:url" content="http://127.0.0.1:4000//wikease/"> <meta property="og:site_name" content="Glen Cooney"> <meta property="og:image" content="http://127.0.0.1:4000//assets/img/meface_no-border.png"> <link rel="canonical" href="http://127.0.0.1:4000//wikease/"> <link href="http://127.0.0.1:4000//feed.xml" type="application/atom+xml" rel="alternate" title="Glen Cooney Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://127.0.0.1:4000//assets/css/main.css"> <!-- JS --> <script src="http://127.0.0.1:4000//assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://127.0.0.1:4000//assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://127.0.0.1:4000//favicon.png"> <link rel="shortcut icon" href="http://127.0.0.1:4000//favicon.ico"> <!-- Background Image --> <style type="text/css">body {background-image:url(http://127.0.0.1:4000//assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://127.0.0.1:4000//">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://127.0.0.1:4000//assets/img/meface_no-border.png" alt="Glen Cooney photo" class="author-photo"> <h4>Glen Cooney</h4> <p>Welcome to my official portfolio site</p> </li> <li><a href="http://127.0.0.1:4000//about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:glen@glencooney.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://twitter.com/transplanar" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a> </li> <li> <a href="http://linkedin.com/in/glencooney" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a> </li> <li> <a href="http://github.com/transplanar" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> <li> <a href="http://stackoverflow.com/users/5031910/glen-cooney" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-stack-overflow"></i> StackOverflow</a> </li> </ul>
<!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://127.0.0.1:4000//posts/">All Posts</a></li> <li><a href="http://127.0.0.1:4000//tags/">All Tags</a></li> </ul> </li> <li><a href="http://127.0.0.1:4000//projects/">Projects</a></li> <li><a href="http://127.0.0.1:4000//contact/">Contact</a></li> </ul>
<!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>Wikease</h1> <h4>19 Jul 2016</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~2 minutes </p>
<!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://127.0.0.1:4000//projects/"> <i class="fa fa-chevron-left" style="font-size: 1.5rem"></i> </a> <!-- REVIEW FIXME messed up display of heroku icon --> <span> <div class="social-btn"> <a class="fa fa-fw fa-globe" style="font-size: 1.5rem" href="https://wikease.herokuapp.com/" title="View on Heroku"></a> </div>
<div class="social-btn"> <a style="font-size: 1.5rem" class="fa fa-fw fa-github" href="https://github.com/transplanar/wikease" title="View on Github"></a> </div> </span> </div> <h1 id="wikis-made-easy">Wikis Made Easy</h1> <p><em>Wikease is a Rails app that emulates many of the key features of Wikipedia. Users can create private or public wikis, purchase paid upgrades for their account, and assign collaborators to the wikis they own. This project introduced several key gems to facilitate advanced user authentication and online order processing.</em></p> <h3 id="tools">Tools</h3> <p><a href="http://rubyonrails.org/">Rails</a>, <a href="http://rspec.info/">Rspec</a>, <a href="https://github.com/plataformatec/devise">Devise</a>, <a href="https://github.com/elabs/pundit">Pundit</a>, <a href="https://stripe.com/">Stripe</a>, <a href="https://github.com/vmg/redcarpet">Redcarpet</a>, <a href="https://github.com/stympy/faker">Faker</a>, <a href="http://getbootstrap.com/">Bootstrap</a>, <a href="https://atom.io/">Atom</a>, <a href="http://www.ubuntu.com/">Ubuntu</a></p> <h1 id="breakdown">Breakdown</h1> <p><em>The <a href="https://github.com/plataformatec/devise">Devise</a> gem is used for user authentication, with built-in email verification and input validation. It is used alongside <a href="https://github.com/elabs/pundit">Pundit</a> to define member privilege levels (aka roles), namely member, premium member, and admin. Through these roles, premium or admin users are able to create private wikis that are only viewable to their owner or collaborators. Standard users may upgrade to premium users as a paid service facilitated through <a href="https://stripe.com/">Stripe</a>. For wiki authors, <a href="https://github.com/vmg/redcarpet">Redcarpet</a> allows users to use <a href="http://whatismarkdown.com/">Markdown</a> for formatting their page content.</em></p> <h1 id="working-together">Working Together</h1> <p><em>The main challenge I encountered here was grappling with ActiveRecord associations. Since this was the first time I was working with them without “training wheels,” I continued to struggle figuring out how best to organize my associations between Users, Wikis, and Collaborations.</em></p> <p><em>My initial thinking was that users would need a reference to their collaborators, so my early attempts involved adding this to my User model:</em></p> <figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
  <span class="nf">has_many</span> <span class="ss">:collaborators</span><span class="p">,</span> <span class="ss">class_name: </span><span class="s1">'User'</span><span class="p">,</span> <span class="ss">source: :user</span><span class="p">,</span> <span class="ss">through: :collaborations</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span></code></pre></figure> <p><em>As it turns out, this was unnecessary. While it intuitively makes sense for a user to want to know about their collaborators, this isn’t how <code class="highlighter-rouge">has_many :through</code> relationships work. The <code class="highlighter-rouge">:through</code> model is strictly used to describe the connection between two models in contexts where a conventional <code class="highlighter-rouge">:belongs_to</code> and <code class="highlighter-rouge">:has_many</code> relationship wouldn’t make sense. In this case, a wiki does belong to a user, but not the other way around, or is a wiki exclusively owned by a single user in the context of a collaboration. Thus the <code class="highlighter-rouge">Collaboration</code> model describes the</em> <strong><em>activity</em></strong> <em>the two other models are engaged in together, not a relationship in the direct sense.</em></p> <p><em>Thus the challenge I encountered came down to confusing the colloquial implications of a <code class="highlighter-rouge">Collaboration</code> with its functional application in Rails. I see now the importance of carefully naming such models to avoid this kind of confusion.</em></p> <h1 id="conclusions">Conclusions</h1> <p><em>This project marked a second time when I stumbled in making sense of complex ActiveRecord associations, but in reviewing it and working with my mentor I am able to paint a clearer picture in my mind of how to work with them. Particularly with Rails, some of the challenge comes in suspending assumptions around a word or concept in favor of accepting how a particular language or framework does things. For better or worse, there are times when familiar concepts like “associations” or “scopes” are used to describe very different things than what you expect.</em></p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://127.0.0.1:4000//tags/#Bloc" title="Pages tagged Bloc" class="tag"><span class="term">Bloc</span></a><a href="http://127.0.0.1:4000//tags/#Rails" title="Pages tagged Rails" class="tag"><span class="term">Rails</span></a><a href="http://127.0.0.1:4000//tags/#Backend" title="Pages tagged Backend" class="tag"><span class="term">Backend</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://127.0.0.1:4000//wikease/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Like</span> </a> <a href="https://twitter.com/intent/tweet?text=http://127.0.0.1:4000//wikease/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://127.0.0.1:4000//wikease/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> </header> <!-- JS --> <script src="http://127.0.0.1:4000//assets/js/jquery-1.12.0.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.dlmenu.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.goup.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.magnific-popup.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/jquery.fitvid.min.js"></script> <script src="http://127.0.0.1:4000//assets/js/scripts.js"></script> <!-- Asynchronous Google Analytics snippet --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-81619796-1', 'auto'); ga('require', 'linkid', 'linkid.js'); ga('send', 'pageview'); </script> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
